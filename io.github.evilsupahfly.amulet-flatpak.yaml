id: io.github.evilsupahfly.amulet-flatpak
name: Amulet Map Editor
version: 0.10.36.11
runtime: org.freedesktop.Platform
runtime-version: '24.08'
sdk: org.freedesktop.Sdk
command: amulet_map_editor

finish-args:
  - --device=all
  - --share=network
  - --share=ipc
  - --socket=fallback-x11
  - --socket=wayland
  - --filesystem=home:create
  - --talk-name=org.freedesktop.Notifications
  - --env=LIBGL_ALWAYS_SOFTWARE="0"
  - --env=OPENGL_VERSION=3.3
  - --env=OPENGL_LIB=/usr/lib/x86_64-linux-gnu/libGL.so
  - --env=PYTHONDEBUG=3
  - --env=PYTHONVERBOSE=3
  - --env=PYTHONTRACEMALLOC=10

modules:
  - shared-modules/glew/glew.json
  - shared-modules/glu/glu-9.json
  - pip-gen.yaml
#  - name: python3-minecraft-resource-pack
#    buildsystem: simple
#    build-options:
#      build-args:
#        - --share=network
#    build-commands:
#      - pip3 install --verbose --no-index --find-links="file://${PWD}"
#        --prefix=${FLATPAK_DEST} "minecraft-resource-pack"
#        --report=pip_report.json --no-build-isolation
#    sources:
#      - type: file
#        path: minecraft_resource_pack-1.4.4+2.g8b81eba.dirty-py3-none-any.whl
#        sha256: 5f5bb5e97c1c117dfafc24f0cf88aa68b8d2f8f1dc07474b3ea6fe41021822fd

versioning:
  auto-increment: true

